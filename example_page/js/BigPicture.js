var BigPicture=function(){var t,o,n,e,r,i,a,p,c,s,l,f,u,d,b,m,g,h,x,v,y,w,_,k,T,S,A,M,E,z,I,C,D,L=window,O=[],N={},V=document,q="appendChild",B="createElement",P="removeChild",G="innerHTML",H="pointer-events:auto",R="clientHeight",W="clientWidth",X="addEventListener";function F(){var o=t.getBoundingClientRect();return"transform:translate3D("+(o.left-(n[W]-o.width)/2)+"px, "+(o.top-(n[R]-o.height)/2)+"px, 0) scale3D("+t[W]/e[W]+", "+t[R]/e[R]+", 0)"}function U(t){var o=z.length-1;if(!u){if(t>0&&E===o||t<0&&!E){if(!D.loop)return nt(r,""),void setTimeout(nt,9,r,"animation:"+(t>0?"bpl":"bpf")+" .3s;transition:transform .35s");E=t>0?-1:o+1}if([(E=Math.max(0,Math.min(E+t,o)))-1,E,E+1].forEach(function(t){if(t=Math.max(0,Math.min(t,o)),!N[t]){var n=z[t].src,e=V[B]("IMG");e[X]("load",Q.bind(null,n)),e.src=n,N[t]=e}}),N[E].complete)return Y(t);u=1,nt(b,"opacity:.4;"),n[q](b),N[E].onload=function(){y&&Y(t)},N[E].onerror=function(){z[E]={error:"Error loading image"},y&&Y(t)}}}function Y(o){u&&(n[P](b),u=0);var i=z[E];if(i.error)alert(i.error);else{var a=n.querySelector("img:last-of-type");nt(r=e=N[E],"animation:"+(o>0?"bpfl":"bpfr")+" .35s;transition:transform .35s"),nt(a,"animation:"+(o>0?"bpfol":"bpfor")+" .35s both"),n[q](r),i.el&&(t=i.el)}I[G]=E+1+"/"+z.length,K(z[E].caption),S&&S([r,z[E]])}function $(){var t,o,n=.95*L.innerHeight,e=.95*L.innerWidth,r=D.dimensions||[1600,900];r[1]/r[0]>n/e?(t=Math.min(r[1],n),o=r[0]/r[1]*t):(o=Math.min(r[0],e),t=r[1]/r[0]*o),p.style.cssText+="width:"+o+"px;height:"+t+"px;"}function j(t){~[1,4].indexOf(e.readyState)?(Z(),setTimeout(function(){e.play()},99)):e.error?Z(t):d=setTimeout(j,35,t)}function J(o){D.noLoader||(o&&nt(b,"top:"+t.offsetTop+"px;left:"+t.offsetLeft+"px;height:"+t[R]+"px;width:"+t[W]+"px"),t.parentElement[o?q:P](b),u=o)}function K(t){t&&(g[G]=t),nt(m,"opacity:"+(t?"1;"+H:"0"))}function Q(t){!~O.indexOf(t)&&O.push(t)}function Z(t){if(u&&J(),k&&k(),"string"==typeof t)return ot(),D.onError?D.onError():alert("Error: The requested "+t+" could not be loaded.");_&&Q(s),e.style.cssText+=F(),nt(n,"opacity:1;"+H),T=setTimeout(T,410),v=1,y=!!z,setTimeout(function(){e.style.cssText+="transition:transform .35s;transform:none",h&&setTimeout(K,250,h)},60)}function tt(t){var o=t.target,r=[m,x,i,a,g,M,A,b];o&&o.blur(),w||~r.indexOf(o)||(e.style.cssText+=F(),nt(n,H),setTimeout(ot,350),clearTimeout(T),v=0,w=1)}function ot(){if(V.body[P](n),n[P](e),nt(n,""),nt(e,""),(e===p?c:e).removeAttribute("src"),K(0),y){for(var t=n.querySelectorAll("img"),o=0;o<t.length;o++)n[P](t[o]);u&&n[P](b),n[P](I),y=z=0,N={},C||n[P](A),C||n[P](M),r.onload=Z,r.onerror=Z.bind(null,"image")}D.onClose&&D.onClose(),w=u=0}function nt(t,o){t.style.cssText=o}return function(w){var N;o||function(){var t;function s(t){var o=V[B]("button");return o.className=t,o[G]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48"><path d="M28 24L47 5a3 3 0 1 0-4-4L24 20 5 1a3 3 0 1 0-4 4l19 19L1 43a3 3 0 1 0 4 4l19-19 19 19a3 3 0 0 0 4 0v-4L28 24z"/></svg>',o}function f(t,o){var n=V[B]("button");return n.className="bp-lr",n[G]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" height="70" fill="#fff"><path d="M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z"/></svg>',nt(n,o),n.onclick=function(o){o.stopPropagation(),U(t)},n}var d=V[B]("STYLE");d[G]="#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0}#bp_container>*,#bp_loader{position:absolute;right:0;z-index:10}#bp_container,#bp_caption,#bp_container svg{pointer-events:none}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:flex;align-items:center;cursor:wait;z-index:9}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto;animation:bpturn 1s infinite linear}#bp_aud,#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{background:#111}#bp_sv svg{width:80px}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_aud{width:650px;top:calc(50% - 20px);bottom:auto;box-shadow:none}#bp_count{left:0;right:auto;padding:14px;color:rgba(255,255,255,.7);font-size:22px;cursor:default}#bp_container button{position:absolute;border:0;outline:0;background:0 0;cursor:pointer;transition:all .1s}#bp_container>.bp-x{height:41px;width:41px;border-radius:100%;top:8px;right:14px;opacity:.8;line-height:1}#bp_container>.bp-x:focus,#bp_container>.bp-x:hover{background:rgba(255,255,255,.2)}.bp-x svg,.bp-xc svg{height:21px;width:20px;fill:#fff;vertical-align:top;}.bp-xc svg{width:16px}#bp_container .bp-xc{left:2%;bottom:100%;padding:9px 20px 7px;background:#d04444;border-radius:2px 2px 0 0;opacity:.85}#bp_container .bp-xc:focus,#bp_container .bp-xc:hover{opacity:1}.bp-lr{top:50%;top:calc(50% - 130px);padding:99px 0;width:6%;background:0 0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@keyframes bpf{50%{transform:translatex(15px)}100%{transform:none}}@keyframes bpl{50%{transform:translatex(-15px)}100%{transform:none}}@keyframes bpfl{0%{opacity:0;transform:translatex(70px)}100%{opacity:1;transform:none}}@keyframes bpfr{0%{opacity:0;transform:translatex(-70px)}100%{opacity:1;transform:none}}@keyframes bpfol{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(-70px)}}@keyframes bpfor{0%{opacity:1;transform:none}100%{opacity:0;transform:translatex(70px)}}@keyframes bpturn{0%{transform:none}100%{transform:rotate(360deg)}}@media (max-width:600px){.bp-lr{font-size:15vw}}",V.head[q](d),(n=V[B]("DIV")).id="bp_container",n.onclick=tt,l=s("bp-x"),n[q](l),"ontouchstart"in L&&(C=1,n.ontouchstart=function(o){var n=o.changedTouches;t=n[0].pageX},n.ontouchmove=function(t){t.preventDefault()},n.ontouchend=function(o){var n=o.changedTouches;if(y){var e=n[0].pageX-t;e<-30&&U(1),e>30&&U(-1)}}),r=V[B]("IMG"),(i=V[B]("VIDEO")).id="bp_vid",i.setAttribute("playsinline",1),i.controls=1,i.loop=1,(a=V[B]("audio")).id="bp_aud",a.controls=1,a.loop=1,(I=V[B]("span")).id="bp_count",(m=V[B]("DIV")).id="bp_caption",(x=s("bp-xc")).onclick=K.bind(null,0),m[q](x),g=V[B]("SPAN"),m[q](g),n[q](m),A=f(1,"transform:scalex(-1)"),M=f(-1,"left:0;right:auto"),(b=V[B]("DIV")).id="bp_loader",b[G]='<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" fill="#fff" opacity=".8"><path d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" fill="#000" opacity=".5"/><path d="M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z"/></svg>',(p=V[B]("DIV")).id="bp_sv",(c=V[B]("IFRAME")).setAttribute("allowfullscreen",1),c.allow="autoplay; fullscreen",c.onload=function(){return p[P](b)},nt(c,"border:0;position:absolute;height:100%;width:100%;left:0;top:0"),p[q](c),r.onload=Z,r.onerror=Z.bind(null,"image"),L[X]("resize",function(){y||u&&J(1),e===p&&$()}),V[X]("keyup",function(t){var o=t.keyCode;27===o&&v&&tt(n),y&&(39===o&&U(1),37===o&&U(-1),38===o&&U(10),40===o&&U(-10))}),V[X]("keydown",function(t){y&&~[37,38,39,40].indexOf(t.keyCode)&&t.preventDefault()}),V[X]("focus",function(t){v&&!n.contains(t.target)&&(t.stopPropagation(),l.focus())},1),o=1}(),u&&(clearTimeout(d),ot()),D=w,f=w.ytSrc||w.vimeoSrc,k=w.animationStart,T=w.animationEnd,S=w.onChangeImage,_=0,h=(t=w.el).getAttribute("data-caption"),w.gallery?function(o,i){if(Array.isArray(o))z=o,h=o[E=i||0].caption;else{var a=(z=[].slice.call("string"==typeof o?V.querySelectorAll(o+" [data-bp]"):o)).indexOf(t);E=0===i||i?i:-1!==a?a:0,z=z.map(function(t){return{el:t,src:t.getAttribute("data-bp"),caption:t.getAttribute("data-caption")}})}_=1,!~O.indexOf(s=z[E].src)&&J(1),z.length>1?(n[q](I),I[G]=E+1+"/"+z.length,C||(n[q](A),n[q](M))):z=0,(e=r).src=s}(w.gallery,w.position):f||w.iframeSrc?(e=p,D.ytSrc?H="https://www.youtube.com/embed/"+f+"?html5=1&rel=0&playsinline=1&autoplay=1":D.vimeoSrc?H="https://player.vimeo.com/video/"+f+"?autoplay=1":D.iframeSrc&&(H=D.iframeSrc),c.src=H,$(),setTimeout(function(){nt(b,""),p[q](b),Z()},9)):w.imgSrc?(_=1,!~O.indexOf(s=w.imgSrc)&&J(1),(e=r).src=s):w.audio?(J(1),(e=a).src=w.audio,j("audio file")):w.vidSrc?(J(1),N=w.vidSrc,Array.isArray(N)?(e=i.cloneNode(),N.forEach(function(t){var o=V[B]("SOURCE");o.src=t,o.type="video/"+t.match(/.(\w+)$/)[1],e[q](o)})):(e=i).src=N,j("video")):(e=r).src="IMG"===t.tagName?t.src:L.getComputedStyle(t).backgroundImage.replace(/^url|[(|)|'|"]/g,""),n[q](e),V.body[q](n);var H}}();
//# sourceMappingURL=BigPicture.js.map
