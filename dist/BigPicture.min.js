!function(){function t(){function t(){var t=J[Q]("button");return t.className="bp-x",t[tt]="&#215;",t}function o(t,o){var e=J[Q]("button");return e.className="bp-lr",e[tt]='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" height="75" fill="#fff"><path d="M88.6 121.3c.8.8 1.8 1.2 2.9 1.2s2.1-.4 2.9-1.2a4.1 4.1 0 0 0 0-5.8l-51-51 51-51a4.1 4.1 0 0 0-5.8-5.8l-54 53.9a4.1 4.1 0 0 0 0 5.8l54 53.9z"/></svg>',b(e,o),e.onclick=function(o){o.stopPropagation(),i(t)},e}var e,n=J[Q]("STYLE");n[tt]=".bp-lr,.bp-x:active{outline:0}#bp_caption,#bp_container{bottom:0;left:0;right:0;position:fixed;opacity:0;backface-visibility:hidden}#bp_container>*,#bp_loader,.bp-x{position:absolute;right:0;z-index:10}#bp_container{top:0;z-index:9999;background:rgba(0,0,0,.7);opacity:0;pointer-events:none;transition:opacity .35s}#bp_loader{top:0;left:0;bottom:0;display:-webkit-flex;display:flex;margin:0;cursor:wait;z-index:9}#bp_count,.bp-lr,.bp-x{cursor:pointer;color:#fff}#bp_loader svg{width:50%;max-width:300px;max-height:50%;margin:auto}#bp_container img,#bp_sv,#bp_vid{user-select:none;max-height:96%;max-width:96%;top:0;bottom:0;left:0;margin:auto;box-shadow:0 0 3em rgba(0,0,0,.4);z-index:-1}#bp_sv{width:171vh}#bp_caption{font-size:.9em;padding:1.3em;background:rgba(15,15,15,.94);color:#fff;text-align:center;transition:opacity .3s}#bp_count,.bp-x{top:0;opacity:.8;font-size:3em;padding:0 .3em;background:0 0;border:0;text-shadow:0 0 2px rgba(0,0,0,.6)}#bp_caption .bp-x{left:2%;top:auto;right:auto;bottom:100%;padding:0 .6em;background:#d74040;border-radius:2px 2px 0 0;font-size:2.3em;text-shadow:none}.bp-x:focus,.bp-x:hover{opacity:1}@media (max-aspect-ratio:9/5){#bp_sv{height:53vw}}.bp-lr{top:50%;top:calc(50% - 138px);padding:99px 1vw;background:0 0;border:0;opacity:.4;transition:opacity .1s}.bp-lr:focus,.bp-lr:hover{opacity:.8}@media (max-width:600px){.bp-lr{font-size:15vw}}#bp_count{left:0;display:table;padding:14px;color:#fff;font-size:22px;opacity:.7;cursor:default;right:auto}",J.head[K](n),x=J[Q]("DIV"),x.id="bp_container",x.onclick=u,A=t(),x[K](A),"ontouchstart"in Y&&(U=!0,x.ontouchstart=function(t){e=t.changedTouches[0].pageX},x.ontouchmove=function(t){t.preventDefault()},x.ontouchend=function(t){if(L){var o=t.changedTouches[0],n=o.pageX-e;n<-30&&i(1),n>30&&i(-1)}}),y=J[Q]("IMG"),w=J[Q]("VIDEO"),w.id="bp_vid",w.autoplay=!0,w.setAttribute("playsinline",!0),w.controls=!0,w.loop=!0,X=J[Q]("span"),X.id="bp_count",I=J[Q]("DIV"),I.id="bp_caption",O=t(),O.onclick=l.bind(null,!1),I[K](O),D=J[Q]("SPAN"),I[K](D),x[K](I),R=o(1,g("transform:","scalex(-1);")),q=o(-1,"left:0;right:auto"),T=J[Q]("DIV"),T.id="bp_loader",T[tt]='<svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32" fill="#fff" opacity=".8"><path d="M16 0a16 16 0 0 0 0 32 16 16 0 0 0 0-32m0 4a12 12 0 0 1 0 24 12 12 0 0 1 0-24" fill="#000" opacity=".5"/><path d="M16 0a16 16 0 0 1 16 16h-4A12 12 0 0 0 16 4z"><animateTransform attributeName="transform" dur="1s" from="0 16 16" repeatCount="indefinite" to="360 16 16" type="rotate"/></path></svg>',_=J[Q]("DIV"),_.id="bp_sv",k=J[Q]("IFRAME"),k.allowFullscreen=!0,k.onload=s,b(k,"border:0px;height:100%;width:100%"),_[K](k),y.onload=s,y.onerror=s.bind(null,"image"),Y[it]("resize",function(){L||E&&p(!0)}),J[it]("keyup",function(t){var o=t.keyCode;27===o&&N&&u(x),L&&(39===o&&i(1),37===o&&i(-1),38===o&&i(10),40===o&&i(-10))}),J[it]("keydown",function(t){var o=[37,38,39,40];L&&~o.indexOf(t.keyCode)&&t.preventDefault()}),J[it]("focus",function(t){N&&!x.contains(t.target)&&(t.stopPropagation(),A.focus())},!0),m=!0}function o(){var t=h.getBoundingClientRect();return g("transform:","translate3D("+(t.left-(x[nt]-t.width)/2)+"px, "+(t.top-(x[et]-t.height)/2)+"px, 0) scale3D("+h[nt]/v[nt]+", "+h[et]/v[et]+", 0);")}function e(t){Array.isArray(t)?(v=w.cloneNode(),t.forEach(function(t){var o=J[Q]("SOURCE");o.src=t,o.type="video/"+t.match(/.(\w+)$/)[1],v[K](o)})):(v=w,v.src=t)}function n(t){if(Array.isArray(t))F=0,H=t,C=t[0].caption;else{H=[].slice.call("string"==typeof t?J.querySelectorAll(t+" [data-bp]"):t);var o=H.indexOf(h);F=o!==-1?o:0,H=H.map(function(t){return{el:t,src:t.getAttribute("data-bp"),caption:t.getAttribute("caption")}})}P=!0,S=H[F].src,!~$.indexOf(S)&&p(!0),H.length>1?(x[K](X),X[tt]=F+1+"/"+H.length,U||(x[K](R),x[K](q))):H=!1,v=y,v.src=S}function i(t){var o=H.length-1;return F=Math.max(0,Math.min(F+t,o)),[F-1,F,F+1].forEach(function(t){if(t=Math.max(0,Math.min(t,o)),!j[t]){var e=H[t].src,n=J[Q]("IMG");n[it]("load",d.bind(null,e)),n.src=e,j[t]=n}}),j[F].complete?r():(E=!0,b(T,"opacity:.4;"),x[K](T),j[F].onload=function(){L&&r()},void(j[F].onerror=function(){H[F]={error:"Error loading image"},L&&r()}))}function r(){E&&(x[Z](T),E=!1);var t=H[F];if(t.error)alert(t.error);else{y.src=t.src,t.el&&(h=t.el)}X[tt]=F+1+"/"+H.length}function a(t){k.src="https://"+(t?"www.youtube.com/embed/"+z+"?html5=1&rel=0&showinfo=0&playsinline=1&":"player.vimeo.com/video/"+z+"?")+"autoplay=1"}function c(){4===v.readyState?s():w.error?s("video"):M=rt(c,35)}function p(t){W||(t&&b(T,"top:"+h.offsetTop+"px;left:"+h.offsetLeft+"px;height:"+h[et]+"px;width:"+h[nt]+"px"),h.parentElement[t?K:Z](T),E=t)}function l(t){t&&(D[tt]=t),b(I,"opacity:"+(t?"1;"+ot:"0"))}function d(t){!~$.indexOf(t)&&$.push(t)}function s(t){return E&&p(),B&&B(),"string"==typeof t?(f(),alert("Error: The requested "+t+" could not be loaded.")):(P&&d(S),L?l(H[F].caption):(b(v,o()),b(x,"opacity:1;"+ot),G=rt(G,410),N=!0,L=!!H,void rt(function(){b(v,g("transition:","transform .35s;")+g("transform:","none;")),C&&rt(l,250,C)},60)))}function u(t){var e=t.target,n=[I,O,w,D,q,R,T];e&&e.blur(),V||~n.indexOf(e)||(v.style.cssText+=o(),b(x,ot),rt(f,350),at(G),N=!1,V=!0)}function f(){J.body[Z](x),x[Z](v),b(x,""),(v===_?k:v).removeAttribute("src"),l(!1),L&&(E&&x[Z](T),x[Z](X),L=H=!1,j={},U||x[Z](R),U||x[Z](q)),V=E=!1}function b(t,o){t.style.cssText=o}function g(t,o){var e="-webkit-",n=t+o;return e+n+t+e+o+n}var h,m,x,v,y,w,_,k,S,A,z,E,M,T,I,D,C,O,N,L,V,P,B,G,R,q,F,H,X,U,W,Y=window,$=[],j={},J=document,K="appendChild",Q="createElement",Z="removeChild",tt="innerHTML",ot="pointer-events:auto",et="clientHeight",nt="clientWidth",it="addEventListener",rt=Y.setTimeout,at=Y.clearTimeout;Y.BigPicture=function(o){m||t(),E&&(at(M),f()),z=o.ytSrc||o.vimeoSrc,B=o.animationStart,G=o.animationEnd,W=o.noLoader,h=o.el,P=!1,C=h.getAttribute("caption"),o.gallery?n(o.gallery):z?(p(!0),v=_,a(!!o.ytSrc)):o.imgSrc?(P=!0,S=o.imgSrc,!~$.indexOf(S)&&p(!0),v=y,v.src=S):o.vidSrc?(p(!0),e(o.vidSrc),c()):(v=y,v.src="IMG"===h.tagName?h.src:Y.getComputedStyle(h).backgroundImage.replace(/^url|[(|)|'|"]/g,"")),x[K](v),J.body[K](x)}}();
